<?phpclass ControllerPrilUploadimg1 extends Controller {	public function index() {				require_once 'function.php';				$img_base64 = '';		$user = '24';		$task_id = '38358';		$key_pril = '100-200';				foreach (object_to_array(retrieveJsonPostData()) as $pril_key => $pril_value) {			switch ($pril_key) {				case 'upload_img':					$img_base64 = $pril_value;					break;				case 'user':					$user = $pril_value;					break;				case 'task_id':					$task_id = $pril_value;					break;				case 'key_pril':					$key_pril = $pril_value;					break;			}		}					if ($img_base64 == '' || $user == '' || $task_id == '' || $key_pril == '') {			echo "Данные переданы не верно!";			exit;		}				$this->load->model('pril/android');				$customer = $this->model_pril_android->getCustomer($key_pril);				if (!$customer) {			print_r("Ошибка!");			exit;		}		$arr_customer = object_to_array(json_decode($customer[0]['custom_field']));		define('APIKEY_USERSIDE', $arr_customer[1]);		define('USERSIDE', $arr_customer[2]);		file_put_contents('image/catalog/img-pril/'.$user."-".$task_id."-".date('Y-m-d-H-i-s')."-".rand(100, 999).'.png', $img_base64);			}}